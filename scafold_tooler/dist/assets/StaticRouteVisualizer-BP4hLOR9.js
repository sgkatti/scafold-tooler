import{r,j as e,m as j}from"./index-D4MKKhwQ.js";const o=`[
  {"dest":"10.0.0.0/24","nextHop":"R1","metric":1},
  {"dest":"10.0.0.0/24","nextHop":"R2","metric":10},
  {"dest":"10.0.1.0/24","nextHop":"R3","metric":5}
]`,b=()=>{const[c,i]=r.useState(o),[l,x]=r.useState(JSON.parse(o)),[n,m]=r.useState(""),[s,d]=r.useState(null),p=()=>{try{const t=JSON.parse(c);x(t)}catch{}},h=()=>{const t=l.filter(a=>a.dest===n);if(!t.length){d(null);return}t.sort((a,u)=>(a.metric??0)-(u.metric??0)),d(t[0])};return e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600",children:"Static routes JSON"}),e.jsx("textarea",{value:c,onChange:t=>i(t.target.value),rows:6,className:"w-full mt-2 p-2 rounded border bg-white dark:bg-gray-800"}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:p,className:"px-4 py-2 bg-teal-500 text-white rounded",children:"Load"}),e.jsx("input",{value:n,onChange:t=>m(t.target.value),placeholder:"Enter dest to inspect",className:"px-3 py-2 rounded border"}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Lookup"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded shadow",children:[e.jsx("h4",{className:"font-medium",children:"Route Table"}),e.jsxs("table",{className:"w-full text-sm mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-500",children:[e.jsx("th",{children:"Dest"}),e.jsx("th",{children:"Next hop"}),e.jsx("th",{children:"Metric"})]})}),e.jsx("tbody",{children:l.map((t,a)=>e.jsxs("tr",{className:`border-t ${s&&s.dest===t.dest&&s.nextHop===t.nextHop?"bg-teal-50":""}`,children:[e.jsx("td",{className:"py-1",children:t.dest}),e.jsx("td",{children:t.nextHop}),e.jsx("td",{children:t.metric})]},a))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium",children:"Lookup result"}),s?e.jsxs("div",{className:"text-sm mt-2",children:["Preferred: ",s.nextHop," (metric ",s.metric,") â€” Fallbacks: ",l.filter(t=>t.dest===s.dest&&t.nextHop!==s.nextHop).map(t=>t.nextHop).join(", ")||"none"]}):e.jsx("div",{className:"text-sm mt-2 text-gray-500",children:"Enter a destination and click Lookup to see preference"})]})]})]})};export{b as default};
